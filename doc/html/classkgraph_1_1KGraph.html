<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>KGraph: kgraph::KGraph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">KGraph
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>kgraph</b></li><li class="navelem"><a class="el" href="classkgraph_1_1KGraph.html">KGraph</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classkgraph_1_1KGraph-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">kgraph::KGraph Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classkgraph_1_1KGraph.html" title="The KGraph index. ">KGraph</a> index.  
 <a href="classkgraph_1_1KGraph.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="kgraph_8h_source.html">kgraph.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkgraph_1_1KGraph_1_1IndexInfo.html">IndexInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information and statistics of the indexing algorithm.  <a href="structkgraph_1_1KGraph_1_1IndexInfo.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkgraph_1_1KGraph_1_1IndexParams.html">IndexParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indexing parameters.  <a href="structkgraph_1_1KGraph_1_1IndexParams.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkgraph_1_1KGraph_1_1SearchInfo.html">SearchInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information and statistics of the search algorithm.  <a href="structkgraph_1_1KGraph_1_1SearchInfo.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkgraph_1_1KGraph_1_1SearchParams.html">SearchParams</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search parameters.  <a href="structkgraph_1_1KGraph_1_1SearchParams.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa8da9d151b2c2e377f21d4c86cb5ecf3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>FORMAT_DEFAULT</b> = 0, 
<b>FORMAT_NO_DIST</b> = 1
 }</td></tr>
<tr class="separator:aa8da9d151b2c2e377f21d4c86cb5ecf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a29caddaa60e3f5dad28117f2337369c7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a29caddaa60e3f5dad28117f2337369c7">load</a> (char const *path)=0</td></tr>
<tr class="memdesc:a29caddaa60e3f5dad28117f2337369c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load index from file.  <a href="#a29caddaa60e3f5dad28117f2337369c7">More...</a><br/></td></tr>
<tr class="separator:a29caddaa60e3f5dad28117f2337369c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3152cd79bceba7115113c83e737161d9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a3152cd79bceba7115113c83e737161d9">save</a> (char const *path, int format=FORMAT_DEFAULT) const =0</td></tr>
<tr class="memdesc:a3152cd79bceba7115113c83e737161d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save index to file.  <a href="#a3152cd79bceba7115113c83e737161d9">More...</a><br/></td></tr>
<tr class="separator:a3152cd79bceba7115113c83e737161d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b730e6f5d908526664295d608a8e28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22b730e6f5d908526664295d608a8e28"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a22b730e6f5d908526664295d608a8e28">build</a> (<a class="el" href="classkgraph_1_1IndexOracle.html">IndexOracle</a> const &amp;oracle, <a class="el" href="structkgraph_1_1KGraph_1_1IndexParams.html">IndexParams</a> const &amp;params, <a class="el" href="structkgraph_1_1KGraph_1_1IndexInfo.html">IndexInfo</a> *info=0)=0</td></tr>
<tr class="memdesc:a22b730e6f5d908526664295d608a8e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the index. <br/></td></tr>
<tr class="separator:a22b730e6f5d908526664295d608a8e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa782231ca298b3bea5605c042dd9dc8f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#aa782231ca298b3bea5605c042dd9dc8f">prune</a> (<a class="el" href="classkgraph_1_1IndexOracle.html">IndexOracle</a> const &amp;oracle, unsigned level)=0</td></tr>
<tr class="memdesc:aa782231ca298b3bea5605c042dd9dc8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prune the index.  <a href="#aa782231ca298b3bea5605c042dd9dc8f">More...</a><br/></td></tr>
<tr class="separator:aa782231ca298b3bea5605c042dd9dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7590cabd06fa6679601eb840db6c2c0e"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a7590cabd06fa6679601eb840db6c2c0e">search</a> (<a class="el" href="classkgraph_1_1SearchOracle.html">SearchOracle</a> const &amp;oracle, <a class="el" href="structkgraph_1_1KGraph_1_1SearchParams.html">SearchParams</a> const &amp;params, unsigned *ids, <a class="el" href="structkgraph_1_1KGraph_1_1SearchInfo.html">SearchInfo</a> *info=0) const </td></tr>
<tr class="memdesc:a7590cabd06fa6679601eb840db6c2c0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Online k-NN search.  <a href="#a7590cabd06fa6679601eb840db6c2c0e">More...</a><br/></td></tr>
<tr class="separator:a7590cabd06fa6679601eb840db6c2c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e7d1ecf9c928d5f418f6a36405d11c"><td class="memItemLeft" align="right" valign="top">virtual unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a32e7d1ecf9c928d5f418f6a36405d11c">search</a> (<a class="el" href="classkgraph_1_1SearchOracle.html">SearchOracle</a> const &amp;oracle, <a class="el" href="structkgraph_1_1KGraph_1_1SearchParams.html">SearchParams</a> const &amp;params, unsigned *ids, float *dists, <a class="el" href="structkgraph_1_1KGraph_1_1SearchInfo.html">SearchInfo</a> *info) const =0</td></tr>
<tr class="memdesc:a32e7d1ecf9c928d5f418f6a36405d11c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Online k-NN search.  <a href="#a32e7d1ecf9c928d5f418f6a36405d11c">More...</a><br/></td></tr>
<tr class="separator:a32e7d1ecf9c928d5f418f6a36405d11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a161ada7f67f9694000c0c573f5bf5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a12a161ada7f67f9694000c0c573f5bf5">get_nn</a> (unsigned id, unsigned *nns, unsigned *M, unsigned *L) const </td></tr>
<tr class="memdesc:a12a161ada7f67f9694000c0c573f5bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get offline computed k-NNs of a given object.  <a href="#a12a161ada7f67f9694000c0c573f5bf5">More...</a><br/></td></tr>
<tr class="separator:a12a161ada7f67f9694000c0c573f5bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86089060dca908becfff43623d9fb70e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a86089060dca908becfff43623d9fb70e">get_nn</a> (unsigned id, unsigned *nns, float *dists, unsigned *M, unsigned *L) const =0</td></tr>
<tr class="memdesc:a86089060dca908becfff43623d9fb70e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get offline computed k-NNs of a given object.  <a href="#a86089060dca908becfff43623d9fb70e">More...</a><br/></td></tr>
<tr class="separator:a86089060dca908becfff43623d9fb70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7c1cab566dc49c56b90e46d33d6dc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f7c1cab566dc49c56b90e46d33d6dc6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>reverse</b> (int)=0</td></tr>
<tr class="separator:a8f7c1cab566dc49c56b90e46d33d6dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a112a2cf50b79cb6b1c859665a9c7fadd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a112a2cf50b79cb6b1c859665a9c7fadd"></a>
static <a class="el" href="classkgraph_1_1KGraph.html">KGraph</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a112a2cf50b79cb6b1c859665a9c7fadd">create</a> ()</td></tr>
<tr class="memdesc:a112a2cf50b79cb6b1c859665a9c7fadd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a112a2cf50b79cb6b1c859665a9c7fadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f80290a62dc5e5aec3c558ed7db00a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f80290a62dc5e5aec3c558ed7db00a0"></a>
static char const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkgraph_1_1KGraph.html#a1f80290a62dc5e5aec3c558ed7db00a0">version</a> ()</td></tr>
<tr class="memdesc:a1f80290a62dc5e5aec3c558ed7db00a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns version string. <br/></td></tr>
<tr class="separator:a1f80290a62dc5e5aec3c558ed7db00a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classkgraph_1_1KGraph.html" title="The KGraph index. ">KGraph</a> index. </p>
<p>This is an abstract base class. Use <a class="el" href="classkgraph_1_1KGraph.html#a112a2cf50b79cb6b1c859665a9c7fadd" title="Constructor. ">KGraph::create</a> to create an instance. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a12a161ada7f67f9694000c0c573f5bf5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kgraph::KGraph::get_nn </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>nns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get offline computed k-NNs of a given object. </p>
<p>See the full version of get_nn. </p>

</div>
</div>
<a class="anchor" id="a86089060dca908becfff43623d9fb70e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kgraph::KGraph::get_nn </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>nns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get offline computed k-NNs of a given object. </p>
<p>The user must provide space to save IndexParams::L values. The actually returned L could be smaller than IndexParams::L, and M &lt;= L is the number of neighbors <a class="el" href="classkgraph_1_1KGraph.html" title="The KGraph index. ">KGraph</a> thinks could be most useful for online search, and is usually &lt; L. If the index has been pruned, the returned L could be smaller than IndexParams::L used to construct the index.</p>
<p>id Object ID whose neighbor information are returned.  nns Neighbor IDs, must have space to save IndexParams::L values.  dists Distance values, must have space to save IndexParams::L values.  M Useful number of neighbors, output only.  L Actually returned number of neighbors, output only. </p>

</div>
</div>
<a class="anchor" id="a29caddaa60e3f5dad28117f2337369c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kgraph::KGraph::load </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load index from file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to the index file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa782231ca298b3bea5605c042dd9dc8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kgraph::KGraph::prune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkgraph_1_1IndexOracle.html">IndexOracle</a> const &amp;&#160;</td>
          <td class="paramname"><em>oracle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prune the index. </p>
<p>Pruning makes the index smaller to save memory, and makes online search on the pruned index faster. (The cost parameters of online search must be enlarged so accuracy is not reduced.)</p>
<p>Currently only two pruning levels are supported:</p>
<ul>
<li>PRUNE_LEVEL_1 = 1: Only reduces index size, fast.</li>
<li>PRUNE_LEVEL_2 = 2: For improve online search speed, slow.</li>
</ul>
<p>No pruning is done if level = 0. </p>

</div>
</div>
<a class="anchor" id="a3152cd79bceba7115113c83e737161d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void kgraph::KGraph::save </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>format</em> = <code>FORMAT_DEFAULT</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save index to file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to the index file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7590cabd06fa6679601eb840db6c2c0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned kgraph::KGraph::search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkgraph_1_1SearchOracle.html">SearchOracle</a> const &amp;&#160;</td>
          <td class="paramname"><em>oracle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkgraph_1_1KGraph_1_1SearchParams.html">SearchParams</a> const &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkgraph_1_1KGraph_1_1SearchInfo.html">SearchInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Online k-NN search. </p>
<p>Search results are guaranteed to be ranked in ascending order of distance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>Pointer to the memory where neighbor IDs are stored, must have space to save params.K ids. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a32e7d1ecf9c928d5f418f6a36405d11c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned kgraph::KGraph::search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkgraph_1_1SearchOracle.html">SearchOracle</a> const &amp;&#160;</td>
          <td class="paramname"><em>oracle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkgraph_1_1KGraph_1_1SearchParams.html">SearchParams</a> const &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned *&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>dists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkgraph_1_1KGraph_1_1SearchInfo.html">SearchInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Online k-NN search. </p>
<p>Search results are guaranteed to be ranked in ascending order of distance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>Pointer to the memory where neighbor IDs are stored, must have space to save params.K values. </td></tr>
    <tr><td class="paramname">dists</td><td>Pointer to the memory where distances are stored, must have space to save params.K values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="kgraph_8h_source.html">kgraph.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 22 2016 13:46:44 for KGraph by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
